# SPDX-FileCopyrightText: Digg - Agency for Digital Government
#
# SPDX-License-Identifier: EUPL-1.2
descriptor_id: DIGG_XML
descriptor_type: format
descriptor_flavors:
  - all_flavors # Any project can contain XML
  - ci_light
  - cupcake
file_extensions:
  - ".xml"
  - ".xsd"
linters:
  - name: DIGG_XML_PRETTIER
    linter_name: prettier-xml
    linter_text: |
      **@prettier/plugin-xml** is a prettier plugin for XML. prettier is an opinionated code formatter that supports multiple languages and integrates with most editors. The idea is to eliminate discussions of style in code review and allow developers to get back to thinking about code design instead.
    is_formatter: true
    linter_url: https://github.com/prettier/plugin-xml
    linter_spdx_license: MIT
    linter_rules_url: https://github.com/prettier/plugin-xml?tab=readme-ov-file#configuration
    linter_rules_inline_disable_url: https://github.com/prettier/plugin-xml?tab=readme-ov-file#ignore-ranges
    linter_banner_image_url: https://github.com/standard/standard/raw/master/sticker.png
    config_file_name: ".prettierrc.yml"
    ignore_file_name: ".prettierignore"
    cli_executable: "prettier"
    cli_lint_mode: list_of_files
    cli_lint_errors_count: regex_count
    cli_lint_errors_regex: "\\[error\\]"
    cli_lint_warnings_count: regex_count
    cli_lint_warnings_regex: "\\[warn\\]"
    cli_lint_extra_args:
      - "--plugin=@prettier/plugin-xml"
      - "--check"
    cli_lint_fix_arg_name: "--write"
    cli_lint_fix_remove_args:
      - "--check"
    examples:
      - "prettier --plugin=@prettier/plugin-xml --write '**/*.xml'" # format
    install:
      #
      # These instructions unfortunately do not work.
      # There is a note in the MegaLinter documentation about this.
      # https://megalinter.io/latest/plugins/
      #
      # When using this plugin,
      # you must make sure that Prettier and the XML plugin are installed on the
      # host, e.g. in the local node_modules.
      #
      npm:
        - "prettier@3.6.2"
        - "@prettier/plugin-xml@3.4.2"
    ide:
      emacs:
        - name: prettier-emacs
          url: https://github.com/prettier/prettier-emacs
        - name: prettier.el
          url: https://github.com/jscheid/prettier.el
        - name: apheleia
          url: https://github.com/raxod502/apheleia
      idea:
        - name: Prettier
          url: https://plugins.jetbrains.com/plugin/10456-prettier
          id: intellij.prettierJS
      sublime:
        - name: JsPrettier
          url: https://packagecontrol.io/packages/JsPrettier
      vim:
        - name: vim-prettier
          url: https://github.com/prettier/vim-prettier
      visual_studio:
        - name: JavaScriptPrettier
          url: https://github.com/madskristensen/JavaScriptPrettier
      vscode:
        - name: prettier-vscode
          url: https://marketplace.visualstudio.com/items?itemName=esbenp.prettier-vscode
